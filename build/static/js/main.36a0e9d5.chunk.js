(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(14),u=t.n(c),o=t(4),i=t(2),r=t(3),a=t.n(r),s="/api/persons",l=function(e){return a.a.delete("".concat(s,"/").concat(e))},d=function(){return a.a.get(s).then((function(e){return e.data}))},j=function(e){return a.a.post(s,e)},b=function(e){return a.a.put("".concat(s,"/").concat(e.id),e).then((function(e){return e.data}))},f=function(e,n){b(n)},h=function(e,n,t,c,u,o){var i=e.target[0].value,r=e.target[1].value,a=n.find((function(e){return e.name===i})),s={name:i,number:r};void 0===a?j(s).then((function(e){t(n.concat(s)),c(""),u(""),o("Added ".concat(s.name)),setTimeout((function(){o(null)}),3e3)})).catch((function(e){o(e.response.data.error),setTimeout((function(){o(null)}),3e3)})):window.confirm("".concat(i," is already added to phonebook, replacethe old number with a new one?"))&&(console.log("kylla"),s.id=a.id,f(e,s),c(""),u(""))},O=function(e,n){console.log(e),window.confirm("Delete")&&l(e.target.value).then((function(e){d().then((function(e){n(e)}))}))},m=t(0),v=function(e){var n=e.person;return Object(m.jsx)("div",{children:Object(m.jsxs)("p",{children:[n.name," ",n.number]})})},p=function(e){var n=e.message;return null===n?null:Object(m.jsx)("div",{className:"error",children:n})},x=(t(38),function(){var e=Object(i.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],u=Object(i.useState)(""),r=Object(o.a)(u,2),a=r[0],s=r[1],l=Object(i.useState)(""),j=Object(o.a)(l,2),b=j[0],f=j[1],x=Object(i.useState)(null),g=Object(o.a)(x,2),w=g[0],k=g[1];Object(i.useEffect)((function(){d().then((function(e){c(e)}))}),[]);var S=function(e){O(e,c)};return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Phonebook"}),Object(m.jsx)(p,{message:w}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h(e,t,c,s,f,k)},children:[Object(m.jsxs)("div",{children:["name: ",Object(m.jsx)("input",{value:a,onChange:function(e){s(e.target.value)}})]}),Object(m.jsxs)("div",{children:["number: ",Object(m.jsx)("input",{value:b,onChange:function(e){f(e.target.value)}})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{type:"submit",children:"add"})})]}),Object(m.jsx)("h3",{children:"Numbers"}),t.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)(v,{person:e},e.name),Object(m.jsx)("button",{value:e.id,onClick:S,children:"Delete"})]})}))]})});u.a.render(Object(m.jsx)(x,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.36a0e9d5.chunk.js.map