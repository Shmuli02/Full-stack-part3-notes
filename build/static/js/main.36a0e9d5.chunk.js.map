{"version":3,"sources":["services/persons.js","components/Person.js","components/Display.js","components/Notification.js","App.js","index.js"],"names":["baseURL","delObject_id","axios","delete","get","then","response","data","newObject","post","Object","put","id","editPerson","event","personObject","personService","persons","setPersons","setNewName","setNewNumber","setErrorMessage","newName","target","value","newNumber","found","find","element","name","number","undefined","concat","setTimeout","catch","error","window","confirm","console","log","Display","person","Notification","message","className","App","useState","errorMessage","useEffect","handlePersonDelete","Person","onSubmit","preventDefault","onChange","type","map","onClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.36a0e9d5.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    return axios.post(baseURL,newObject)\n}\n\nconst dell = (delObject_id) => {\n    return axios.delete(`${baseURL}/${delObject_id}`)\n}\n\nconst put = (Object) => {\n    const request = axios.put(`${baseURL}/${Object.id}`,Object)\n    return request.then(response => response.data)\n}\n\nexport default { dell, getAll, create, put }","import personService from '../services/persons'\n\nconst addPerson = (event,persons,setPersons, setNewName, setNewNumber,setErrorMessage) => {\n    const newName = event.target[0].value\n    const newNumber = event.target[1].value\n    const found = persons.find(element => element.name === newName);\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (found===undefined) {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(personObject))\n          setNewName('')\n          setNewNumber('')\n          setErrorMessage(`Added ${personObject.name}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        })\n    \n    }\n    else {\n      if (window.confirm(`${newName} is already added to phonebook, replacethe old number with a new one?`)) {\n        console.log('kylla')\n        personObject.id = found.id\n        editPerson(event,personObject)\n        setNewName('')\n        setNewNumber('')\n\n      }\n    }\n    \n  \n  }\nconst editPerson = (event,personObject) => {\n  personService\n    .put(personObject)\n}\n\nconst dellPerson = (event,setPersons) => {\n  console.log(event)\n    if (window.confirm(`Delete`)) {\n      personService.dell(event.target.value).then(response => {\n        personService\n        .getAll()\n        .then(response => {\n          setPersons(response)\n        })\n      })\n    }\n}\n\nexport default {addPerson,editPerson,dellPerson}","const Display = ({person}) => {\n    return (\n      <div>\n      <p>{person.name} {person.number}</p>\n      </div>\n    )\n  }\n\nexport default Display","\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Display from './components/Display'\nimport Notification from './components/Notification'\nimport axios from 'axios'\nimport './index.css'\nimport personService from './services/persons'\n\n\n\n\n\n\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handlePhoneChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault()\n    Person.addPerson(event,persons,setPersons, setNewName, setNewNumber,setErrorMessage)\n  }\n\n  const handlePersonDelete = (event) => {\n    Person.dellPerson(event,setPersons)\n  }\n\n\n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <form onSubmit={handleFormSubmit}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handlePhoneChange}/>\n        </div>\n        <div>\n          <button type=\"submit\" >add</button>\n        </div>\n      </form>\n      <h3>Numbers</h3>\n      {persons.map(person =>\n      <div>\n          <Display key={person.name} person={person}/>\n          <button value={person.id} onClick={handlePersonDelete}>Delete</button>\n        </div>\n        )}\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}